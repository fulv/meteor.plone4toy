<template name="globalnav">
    <p class="hiddenStructure">Navigation</p>

    <ul id="portal-globalnav">
        <li id="portaltab-index_html" class="selected"><a href="{{siteroot}}" title="">Home</a></li>

        {{#each contentItems}}
            {{#unless defaultview}}
                {{> menuItem}}
            {{/unless}}
        {{/each}}
    </ul>

</template>


<template name="menuItem">
    <li id="portaltab-{{name}}" class="plain"><a href="{{siteroot}}{{name}}" title="">{{title}}</a></li>
</template>


<template name="listingtablerows">
    {{#each contentItems}}
        {{> contentRow}}
    {{/each}}
</template>


<template name="contentRow">
    <tr class="draggable {{evenodd}}" id="folder-contents-item-{{name}}">

      <td class="draggable draggingHook" style="cursor: ns-resize;">â£¿
      </td>
      <td class="notDraggable">
        <input type="checkbox" class="noborder" name="paths:list" id="cb_{{name}}" value="{{name}}" alt="Select {{title}}" title="Select {{title}}" />
        <input type="hidden" name="selected_obj_paths:list" value="{{name}}" />
        <label class="hiddenStructure" for="cb_{{name}}">{{title}}</label>
      </td>
      <td>

          <a href="{{siteroot}}{{name}}" class=" state-published contenttype-{{typename}}" title="{{type}}: {{description}}">
            {{#if defaultview}}
                <strong>{{title}}</strong>
                <span class="defaultView" title="Default view for this folder" style="color: #f00;">
                  &#x25a0;
                </span>
            {{/if}}
            {{#unless defaultview}}
                {{title}}
            {{/unless}}
          </a>

        
      </td>

      <td>
        
        <span class="state-published">{{size}}</span>
      </td>
      <td class="state-published sortabledata-{{modifiedClass}}">{{modifiedText}}</td>
      <td>
        <span class="state-published">Published</span>
        
      </td>
      <td class="state-published sortabledata-{{currentUser}}">{{author}}</td>
    </tr>

</template>


<template name="actionMenuContent">
  <ul>
    {{#each contentTypes}}
        {{> addItem}}
    {{/each}}
  </ul>
</template>


<template name="addItem">
  <li>
    <a href="{{siteroot}}createObject?type_name={{type}}" class="contenttype-{{name}}" id="{{name}}" title="{{description}}">
        
        <span class="subMenuTitle">{{title}}</span>
    </a>
    
  </li>
</template>


<template name="errors">
    <div class="errors">
        {{#each errors}}
            {{> error}}
        {{/each}}
        {{#each notifications}}
            {{> notification}}
        {{/each}}
    </div>
</template>

<template name="error">
    <div class="alert alert-info" role="alert">
        <button type="button" class="close" data-dismiss="alert">&times;</button>
        {{message}}
    </div>
</template>

<template name="notification">
    <div class="alert alert-warning" role="alert">
        <button type="button" class="close" data-dismiss="alert">&times;</button>
        {{message}}
    </div>
</template>

<template name="SiteStats">
  <dl class="actionMenu {{activeState}}" id="portal-sitetools">

    <dt class="actionMenuHeader">
      <a id="published-items" href="{{siteroot}}sitestats">{{getPublishedCount 'contentcount'}}/{{max_items}} &ndash; More Stats</a>
    </dt>
    <dd class="actionMenuContent">
      <ul>
          <li id="sitetools-userscount">
              <a href="{{siteroot}}users">{{usersCount}} registered users</a>
          </li>
          {{#if currentUser}}
          <li id="sitetools-useritemscount">
              <a href="{{siteroot}}personalitems">{{getPublishedCount 'owncontentcount'}}/{{lifetimeCreatedItems}} items you created</a>
          </li>
          {{/if}}
          <li id="sitetools-resets">
              <a href="{{pathFor 'resets'}}">{{resets}} database resets</a>
          </li>
          <li id="sitetools-connections">
              <a href="{{pathFor 'connections'}}">{{connections}} simultaneous connections</a>
          </li>
      </ul>
    </dd>

  </dl>
</template>

<template name="resets">
  <div id="portal-columns" class="row">
      <div id="portal-column-content" class="cell width-full position-0">
          <div id="viewlet-above-content">
              {{> breadcrumbs}}
          </div>
          <div id="content">
              <div id="viewlet-above-content-title"></div>
              <h1 class="documentFirstHeading"> 
                History of content resets
              </h1>
              <div id="viewlet-below-content-title">
              </div>
              <div id="viewlet-above-content-body"></div>
              <div id="content-core">
                  <div id="folderlisting-main-table">
                      <table class="listing" id="listing-table" summary="Content listing">
                          <thead>
                              <tr>
                                  <th colspan="2" class="nosort">&nbsp;</th>
                              </tr>
                              <tr>
                                  <th class="nosort column" id="resets-datetime-column">&nbsp;Date&nbsp;&amp;&nbsp;Time&nbsp;</th>
                                  <th class="nosort column" id="resets-user-column">&nbsp;User&nbsp;</th>
                              </tr>
                          </thead>
                          <tbody>
                              {{> resetstablerows}}
                          </tbody>
                      </table>
                  </div>
              </div>
              <div id="viewlet-below-content-body">
                  <div class="visualClear">
                      <!-- -->
                  </div>
                  <div class="documentActions">
                  </div>
              </div>
          </div>
          <div id="viewlet-below-content">
          </div>
      </div>
  </div>
</template>

<template name="connections">
  <div id="portal-columns" class="row">
      <div id="portal-column-content" class="cell width-full position-0">
          <div id="viewlet-above-content">
              {{> breadcrumbs}}
          </div>
          <div id="content">
              <div id="viewlet-above-content-title"></div>
              <h1 class="documentFirstHeading"> 
                History of connections
              </h1>
              <div id="viewlet-below-content-title">
              </div>
              <div id="viewlet-above-content-body"></div>
              <div id="content-core">
                  <div id="folderlisting-main-table">
                      <table class="listing" id="listing-table" summary="Content listing">
                          <thead>
                              <tr>
                                  <th colspan="3" class="nosort">&nbsp;</th>
                              </tr>
                              <tr>
                                  <th class="nosort column" id="resets-datetime-column">&nbsp;Date&nbsp;&amp;&nbsp;Time&nbsp;</th>
                                  <th class="nosort column" id="resets-user-column">&nbsp;IP&nbsp;address&nbsp;</th>
                                  <th class="nosort column" id="resets-simultaneous-column">&nbsp;Simultaneous connections&nbsp;</th>
                              </tr>
                          </thead>
                          <tbody>
                              {{> connectionstablerows}}
                          </tbody>
                      </table>
                  </div>
              </div>
              <div id="viewlet-below-content-body">
                  <div class="visualClear">
                      <!-- -->
                  </div>
                  <div class="documentActions">
                  </div>
              </div>
          </div>
          <div id="viewlet-below-content">
          </div>
      </div>
  </div>
</template>

<template name="resetstablerows">
    {{#each resetInstances}}
        {{> resetRow}}
    {{/each}}
</template>

<template name="connectionstablerows">
    {{#each connectionInstances}}
        {{> connectionRow}}
    {{/each}}
</template>

<template name="resetRow">
    <tr class="draggable {{evenodd}}" id="resets-item-{{datetimeClass}}">
      <td class="state-published sortabledata-{{datetimeClass}}">{{datetimeText}}</td>
      <td class="state-published sortabledata-{{author}}">{{author}}</td>
    </tr>
</template>


<template name="connectionRow">
    <tr class="draggable {{evenodd}}" id="connections-item-{{datetimeClass}}">
      <td class="state-published sortabledata-{{datetimeClass}}">{{datetimeText}}</td>
      <td class="state-published sortabledata-{{ip}}">{{ip}}</td>
      <td class="state-published sortabledata-{{count}}">{{count}}</td>
    </tr>
</template>

<template name="breadcrumbs">
  <div id="portal-breadcrumbs">
      <span id="breadcrumbs-you-are-here">You are here:</span>
      <span id="breadcrumbs-home">
          <a href="{{siteroot}}">Home</a>
      </span>
  </div>
</template>